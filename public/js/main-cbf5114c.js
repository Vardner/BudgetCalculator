!function(e){function t(t){for(var n,o,s=t[0],c=t[1],r=0,a=[];r<s.length;r++)o=s[r],i[o]&&a.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);a.length;)a.shift()()}var n={},i={0:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,o){n=i[e]=[t,o]});t.push(n[2]=s);var c,r=document.createElement("script");r.charset="utf-8",r.timeout=120,o.nc&&r.setAttribute("nonce",o.nc),r.src=function(e){return o.p+"js/"+({}[e]||e)+"-cbf5114c.js"}(e),c=function(t){r.onerror=r.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+o+": "+s+")");c.type=o,c.request=s,n[1](c)}i[e]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:r})},12e4);r.onerror=r.onload=c,document.head.appendChild(r)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var u=c;o(o.s=331)}({331:function(e,t,n){n(332),n.e(3).then(n.t.bind(null,333,7));(function(e,t,n){function i(){let n;e.calculateBudget("inc"),n=e.getBudget(),t.displayBudget(n)}function o(){let n;e.updatePercentages(),n=e.getPercentages(),t.displayPercentages(n),console.log(n)}function s(n){n.preventDefault();const s=t.getFormData();if(function({desc:e,val:n}){const i=t.getDOMElements();let o=e.length>0,s=n>0;return o?i.inputDescription.classList.remove("is-invalid"):i.inputDescription.classList.add("is-invalid"),s?i.inputValue.classList.remove("is-invalid"):i.inputValue.classList.add("is-invalid"),o&&s}(s)){const n=e.addItem(s);t.clearFields(),t.addListItem(n,s.type),i(),o()}else console.log("Invalid data")}function c(n){let s,c,r,u,a;n.target.closest("button.item__delete-btn")&&(c=(s=n.target.closest("div.item")).dataset.id)&&(u=(r=c.split("-"))[0],a=+r[1],e.deleteItem(u,a),e.test(),t.deleteListItem(s),i(),o())}return{init:function(){let n;console.log("App is started"),t.setCurrentMonth(),n=e.getBudget(),t.displayBudget(n),function(){const e=t.getDOMElements();e.form.addEventListener("submit",s),e.listsContainer.addEventListener("click",c)}()}}})(function(){const e={items:{exp:[],inc:[]},totals:{exp:0,inc:0},budget:0,percentage:-1},t=function(e,t,n){this.id=e,this.value=n,this.description=t,this.percentage=-1};t.prototype.calcPercentage=function(e){this.percentage=e>0?Math.round(this.value/e*100):-1},t.prototype.getPercentage=function(){return this.percentage};const n=function(e,t,n){this.id=e,this.value=n,this.description=t};function i(t){e.totals[t]=e.items[t].reduce((e,t)=>e+t.value,0)}return{addItem:function({type:i,desc:o,val:s}){let c,r;return r=e.items[i].length>0?e.items[i][e.items[i].length-1].id+1:0,"exp"===i?c=new t(r,o,s):"inc"===i&&(c=new n(r,o,s)),e.items[i].push(c),e.totals[i]+=+s,c},deleteItem:function(t,n){const i=e.items[t].map(e=>e.id).indexOf(n);-1!==i&&e.items[t].splice(i,1)},calculateBudget:function(){i("exp"),i("inc"),e.budget=e.totals.inc-e.totals.exp,e.totals.inc>0?e.percentage=Math.round(e.totals.exp/e.totals.inc*100):e.percentage=-1},updatePercentages:function(){e.items.exp.forEach(t=>t.calcPercentage(e.totals.inc))},getPercentages:function(){return e.items.exp.map(e=>e.getPercentage())},test:function(){console.log(e)},getBudget:function(){return{budget:e.budget,percentage:e.percentage,exp:e.totals.exp,inc:e.totals.inc}}}}(),function(){const e={selectType:document.querySelector("[name=type]"),inputDescription:document.querySelector("[name=description]"),inputValue:document.querySelector("[name=value]"),form:document.querySelector(".add .add__form"),expList:document.querySelector(".expenses__list"),incList:document.querySelector(".income__list"),budgetLabel:document.querySelector(".budget__value"),incomeLabel:document.querySelector("div.budget__income--value"),expensesLabel:document.querySelector("div.budget__expenses--value"),percentageLabel:document.querySelector("div.budget__expenses--percentage"),monthLabel:document.querySelector("span.budget__title--month"),listsContainer:document.getElementById("Lists")},t=".expenses .item__percentage";function n(e){const t=e.toFixed(2).split("."),n=t[0],i=t[1];let o;return o=n.length>3&&n.length<7?n.substr(0,n.length-3)+", "+n.substr(-3)+"."+i:n.length>6&&n.length<10?n.substr(0,n.length-6)+", "+n.substr(-6,3)+" "+n.substr(-3)+"."+i:n+"."+i}return{getFormData:function(){return{type:e.selectType.value,desc:e.inputDescription.value,val:parseFloat(e.inputValue.value)}},getDOMElements:function(){return e},setCurrentMonth:function(){const t=new Date;e.monthLabel.textContent=t.toLocaleString("en-us",{month:"long",year:"numeric"})},clearFields(){const t=[e.inputDescription,e.inputValue];t.forEach(e=>{e.value=""}),t[0].focus()},addListItem:function(t,i){let o;"inc"===i?o=`<div class="item" data-id=inc-${t.id}>\n                                <div class="item__description">${t.description}</div>\n                                <div class="item__delete">\n                                    <button class="item__delete-btn">\n                                        <svg class="item__delete-btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">\n                                            <path d="M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"/>\n                                        </svg>\n                                    </button>\n                                </div>\n                                <div class="item__info">\n                                    <div class="item__value">+ ${n(t.value)}</div>\n                                </div>\n                            </div>`:"exp"===i&&(o=`<div class="item" data-id=exp-${t.id}>\n                                <div class="item__description">${t.description}</div>\n                                <div class="item__delete">\n                                    <button class="item__delete-btn">\n                                        <svg class="item__delete-btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">\n                                            <path d="M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"/>\n                                        </svg>\n                                    </button>\n                                </div>\n                                <div class="item__info">\n                                    <div class="item__value">- ${n(t.value)}</div>\n                                    <div class="item__percentage">21%</div>\n                                </div>\n                            </div>`),e[i+"List"].insertAdjacentHTML("beforeend",o)},deleteListItem:function(e){e.remove()},displayBudget:function(t){e.budgetLabel.textContent=n(t.budget)+" $",e.percentageLabel.textContent=t.percentage>0?t.percentage+"%":"-",e.expensesLabel.textContent="- "+n(t.exp),e.incomeLabel.textContent="+ "+n(t.inc)},displayPercentages:function(e){[...document.querySelectorAll(t)].forEach((t,n)=>{t.textContent=e[n]>0?e[n]+"%":"-"})}}}()).init()},332:function(e,t,n){}});